:root{--vh:1vh;--tg-bg:var(--tg-theme-bg-color,#0f0f0f);--tg-tx:var(--tg-theme-text-color,#fff)}
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--tg-bg);color:var(--tg-tx);-webkit-tap-highlight-color:transparent}
body{padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)}
#app,.app,.root,.page{width:100vw;height:calc(var(--vh)*100)}
@supports(height:100dvh){#app,.app,.root,.page{height:100dvh}}
.app{display:flex;flex-direction:column;min-height:0}
.header{flex:0 0 auto}
.content,.tabs,.tab-content,.page{flex:1 1 auto;min-height:0;display:flex;flex-direction:column}
.container,.wrap,.wrapper{max-width:none!important;width:100%!important;margin:0!important;padding:0 var(--page-hpad,12px)}
.tab,.tab-pane,.screen{display:none;flex:1 1 auto;min-height:0}
.tab.active,.tab-pane.active,.screen.active{display:flex}
.center,.centered{flex:1 1 auto;min-height:0;display:flex;align-items:center;justify-content:center}
.map,.map-wrap,#map,.map-container{position:relative;flex:1 1 auto;min-height:0;width:100%;display:flex}
.map img,.map-wrap img,#map img,.map-container img{width:100%;height:100%;object-fit:contain;display:block}
button,.btn{background:var(--tg-theme-button-color,#2481cc);color:var(--tg-theme-button-text-color,#fff);border:0;border-radius:12px;padding:10px 14px;font:inherit}
a{color:var(--tg-theme-link-color,#61dafb);text-decoration:none}
/* убираем ограничение ширины, чтобы занять всю область */
#app {
  max-width: none !important;
  width: 100vw !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}
.tg-tabbar {
  max-width: none !important;
  left: 0 !important;
  transform: none !important;
  width: 100vw !important;
}

/* hard overrides to stretch content full width */
.content{padding-left:0!important;padding-right:0!important}
.surface{padding-left:0!important;padding-right:0!important;margin-left:0!important;margin-right:0!important;border-radius:0!important}
.map-wrap{padding:0!important;background:transparent!important;border-radius:0!important}
html,body{overflow-x:hidden}
/* === FONT FIX (force Cyrillic-capable stack) === */
html, body, * {
  font-family: "Segoe UI", Roboto, "Noto Sans", Arial, sans-serif !important;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}
/* FONT FIX: кириллица */
html, body, * { font-family: "Segoe UI", Roboto, "Noto Sans", Arial, sans-serif !important;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

/* FULL WIDTH CONTAINER */
html,body{margin:0!important;padding:0!important;overflow-x:hidden!important;background:#0d0d0d!important}
#app{max-width:none!important;width:100%!important;min-height:100vh;margin:0!important;padding:0!important}

/* MAP EDGELESS */
.content{padding-left:0!important;padding-right:0!important}
.surface{padding-left:0!important;padding-right:0!important;margin-left:0!important;margin-right:0!important;border-radius:0!important;border:0!important}
.map-wrap{padding:0!important;background:transparent!important;border-radius:0!important}
/* ====== Desktop-centered column ====== */
@media (min-width: 900px){
  /* ширина колонки под «телефон»: можно регулировать */
   :root{ --phone-col-w: 720px; } }

  /* главный контейнер — растягиваем, но центрируем внутренности */
  #app, .app { display:flex; flex-direction:column; align-items:center; }

  /* всё основное содержимое ограничиваем и центрируем */
  .header, .toolbar, .content, .tabs, .tab-content, .page, .screen, .screen.active,
  .surface, .map-card, .center, .centered {
    max-width: var(--phone-col-w) !important;
    width: 100% !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* нижняя панель вкладок — как у телефона, по центру */
  .tg-tabbar{
    left: 50% !important;
    transform: translateX(-50%) !important;
    max-width: var(--phone-col-w) !important;
    width: 100% !important;
  }

  /* карта внутри карточки занимает всю «телефонную» колонку */
  .map-wrap, #map, .map-container { width: 100% !important; }
  .map-wrap img, #map img, .map-container img{ width:100%; height:auto; object-fit:contain; }
}
/* ====== /Desktop-centered column ====== */
/* === Desktop centered phone column === */
@media (min-width: 900px){
   :root{ --phone-col-w: 720px; } } /* поменяй ширину, если нужно */

  /* любой блок с этим классом становится «колонкой телефона» */
  .phone-col{
    max-width: var(--phone-col-w) !important;
    width: 100% !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* часто встречающиеся секции — тоже центрируем, если они вне .phone-col */
  .header, .tg-topbar, .toolbar{
    max-width: var(--phone-col-w) !important;
    width: 100% !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* нижний таббар как у телефона по центру */
  .tg-tabbar{
    position: fixed !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    max-width: var(--phone-col-w) !important;
    width: 100% !important;
  }

  /* изображения внутри колонки не вылазят */
  .phone-col img{ max-width:100% !important; height:auto !important; object-fit:contain; }

  /* карта заполняет колонку */
  .phone-col .map-wrap,
  .phone-col #map,
  .phone-col .map-container{ width:100% !important; }
}
/* === /Desktop centered phone column === */
/* ===== Desktop phone-like centered column ===== */
@media (min-width: 900px){
   :root{ --phone-col-w: 720px; } } /* ширина колонки на десктопе */

  /* Центрируем весь документ: без изменения HTML */
  html, body { height: 100%; }
  body{ display:flex !important; flex-direction:column !important; align-items:center !important; }

  /* Главный контейнер приложения — ограничиваем ширину и центрируем */
  #app, .app, .root, .page, .content {
    max-width: var(--phone-col-w) !important;
    width: 100% !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* Нижний таббар также по центру и той же ширины */
  .tg-tabbar{
    position: fixed !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    max-width: var(--phone-col-w) !important;
    width: 100% !important;
  }

  /* Карта и изображения внутри — не вылазят за колонку */
  .map-wrap, #map, .map-container{ width:100% !important; }
  .map-wrap img, #map img, .map-container img{ max-width:100% !important; height:auto !important; object-fit:contain; }
}
/* ===== /Desktop phone-like centered column ===== */
/* === Desktop centered phone frame (жёстко) === */
@media (min-width: 900px){
   :root{ --phone-col-w: 720px; } } /* ширина "экрана телефона" */

  html, body{ height:100%; }
  body{
    display:flex !important;
    flex-direction:column !important;
    align-items:center !important;
    justify-content:flex-start !important;
  }

  /* обёртка вокруг приложения */
  #phone-frame{
    width:100% !important;
    max-width:var(--phone-col-w) !important;
    margin:0 auto !important;
    min-height:100vh;
    position:relative;
  }

  /* нижний таббар — по центру и той же ширины */
  .tg-tabbar{
    position:fixed !important;
    left:50% !important;
    transform:translateX(-50%) !important;
    max-width:var(--phone-col-w) !important;
    width:100% !important;
  }

  /* карта/контент не вылазят за рамки */
  .map-wrap, #map, .map-container{ width:100% !important; }
  .map-wrap img, #map img, .map-container img{ max-width:100% !important; height:auto !important; object-fit:contain; }
}
/* ==== PHONE FRAME LAYOUT v2 ==== */
 :root{ --phone-col-w: 720px; } } /* ширина колонки на десктопе (поменяй при желании) */

@media (min-width: 900px){
  html, body { height:100%; }
  /* центрируем всю страницу, чтобы не зависеть от внутренней разметки */
  body{
    display:grid !important;
    place-items:center !important; /* по центру и по вертикали */
    grid-template-rows: 1fr;
    background:#0d0d0d;
  }

  /* обёртка вокруг приложения («экран телефона») */
  #phone-frame{
    width:100% !important;
    max-width:var(--phone-col-w) !important;
    min-height:100vh;
    margin:0 auto !important;
    position:relative;
  }

  /* на случай, если нужно прижать к верху (переключается классом .top-mode) */
  #phone-frame.top-mode{
    align-self:start !important;
    margin-top:24px !important;
  }

  /* нижний таббар — по центру экрана */
  .tg-tabbar, .tabbar, .tabs-bar, .bottom-nav{
    position:fixed !important;
    left:50% !important;
    transform:translateX(-50%) !important;
    bottom:12px !important;
    max-width:var(--phone-col-w) !important;
    width:100% !important;
    z-index: 1000;
  }

  /* контент и карта внутри — не вылазят за колонку */
  .content, .page, .surface, .map-card, .map-wrap, #map, .map-container{
    max-width:var(--phone-col-w) !important;
    width:100% !important;
    margin-left:auto !important;
    margin-right:auto !important;
  }
  .map-wrap img, #map img, .map-container img{
    max-width:100% !important;
    height:auto !important;
    object-fit:contain !important;
  }
}
/* ==== /PHONE FRAME LAYOUT v2 ==== */

/* ==== HARD DESKTOP CENTER (720px) ==== */
@media (min-width: 900px){
  html,body{height:100%}
  body{
    display:grid !important;
    justify-items:center !important;
    align-items:start !important;  /* прижатие к верху */
    background:#0d0d0d;
  }
  /* главный фрейм и все основные секции ограничиваем и центрируем */
  #phone-frame, #app, .app, .content, .page, .surface, .map-card{
    max-width:720px !important;
    width:100% !important;
    margin-left:auto !important;
    margin-right:auto !important;
  }
  /* нижняя панель */
  .tg-tabbar, .bottom-nav, .tabs-bar{
    position:fixed !important;
    left:50% !important; transform:translateX(-50%) !important;
    bottom:12px !important;
    max-width:720px !important; width:100% !important;
    z-index:1000;
  }
  /* карта */
  .map-wrap, #map, .map-container{ width:100% !important; }
  .map-wrap img, #map img, .map-container img{
    width:100% !important; height:auto !important; object-fit:contain !important;
  }
}
/* ==== /HARD DESKTOP CENTER ==== */
/* ==== FINAL CENTER FIX ==== */
@media (min-width: 900px){
  body, html, #app, .app, .content, .page, #phone-frame {
    margin: 0 auto !important;
    max-width: 720px !important;
    width: 100% !important;
    display: block !important;
  }
  #phone-frame, .app {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: start !important;
  }
  .map-wrap, #map {
    width: 100% !important;
    height: auto !important;
    margin: 0 auto !important;
  }
}
/* ==== /FINAL CENTER FIX ==== */
/* === CENTER LAYOUT FINAL === */
@media (min-width:900px){
  body { display:flex !important; justify-content:center !important; align-items:flex-start !important; background:#0d0d0d; }
  #phone-frame{ max-width:860px !important; width:100% !important; margin:24px auto 96px !important; }
  #app, .app, .content, .page, .surface{
    max-width:860px !important; width:100% !important; margin-left:auto !important; margin-right:auto !important; display:block !important;
  }
  .tg-tabbar, .bottom-nav, .tabs-bar{
    position:fixed !important; left:50% !important; transform:translateX(-50%) !important;
    bottom:12px !important; max-width:860px !important; width:100% !important; z-index:1000;
  }
  .map-wrap, #map, .map-container{ width:100% !important; }
  .map-wrap img, #map img, .map-container img{ max-width:100% !important; height:auto !important; object-fit:contain !important; }
}
@media (max-width:899.98px){
  #phone-frame, #app, .app, .content, .page, .surface{ max-width:none !important; width:100% !important; margin:0 !important; }
}
/* === /CENTER LAYOUT FINAL === */
/* === CENTER LAYOUT FINAL === */
@media (min-width:900px){
  body { display:flex !important; justify-content:center !important; align-items:flex-start !important; background:#0d0d0d; }
  #phone-frame{ max-width:860px !important; width:100% !important; margin:24px auto 96px !important; }
  #app, .app, .content, .page, .surface{
    max-width:860px !important; width:100% !important; margin-left:auto !important; margin-right:auto !important; display:block !important;
  }
  .tg-tabbar, .bottom-nav, .tabs-bar{
    position:fixed !important; left:50% !important; transform:translateX(-50%) !important;
    bottom:12px !important; max-width:860px !important; width:100% !important; z-index:1000;
  }
  .map-wrap, #map, .map-container{ width:100% !important; }
  .map-wrap img, #map img, .map-container img{ max-width:100% !important; height:auto !important; object-fit:contain !important; }
}
@media (max-width:899.98px){
  #phone-frame, #app, .app, .content, .page, .surface{ max-width:none !important; width:100% !important; margin:0 !important; }
}
/* === /CENTER LAYOUT FINAL === */
/* === MOBILE FULL FIX === */
@media (max-width: 899px){
  html, body, #app, .app, .content, .page, .surface, #phone-frame {
    max-width: none !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  body {
    display: block !important;
    background: #000 !important;
  }
  .map-wrap, #map, .map-container {
    width: 100% !important;
    height: auto !important;
  }
  .map-wrap img, #map img, .map-container img {
    width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
  }
}
/* === /MOBILE FULL FIX === */
